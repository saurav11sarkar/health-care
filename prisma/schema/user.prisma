model User {
    id                 String     @id @default(uuid())
    email              String     @unique
    password           String?
    role               UserRole   @default(patient)
    needPasswordChange Boolean    @default(true)
    status             UserStatus @default(active)
    createdAt          DateTime   @default(now())
    updatedAt          DateTime   @updatedAt
    admin              Admin?
    doctor             Doctor?
    patient            Patient?

    @@map("users")
}

model Admin {
    id            String   @id @default(uuid())
    name          String
    email         String   @unique
    profilePhoto  String?
    contactNumber String?
    isDeleted     Boolean  @default(false)
    user          User     @relation(fields: [email], references: [email])
    createdAt     DateTime @default(now())
    updatedAt     DateTime @updatedAt

    @@map("admins")
}

model Doctor {
    id                String  @id @default(uuid())
    name              String
    email             String  @unique
    profilePhoto      String?
    contactNumber     String?
    address           String?
    registationNumber String?
    experience        Int?    @default(0)
    gender            Gender?
    appointmentFee    Float?  @default(0)
    qualification     String?
    currentWorkPlace  String?
    designation       String?
    isDeleted         Boolean @default(false)

    user             User               @relation(fields: [email], references: [email])
    doctorSchedules  DoctorSchedule[]
    doctorSpecialies DoctorSpecialies[]
    createdAt        DateTime           @default(now())
    updatedAt        DateTime           @updatedAt

    @@map("doctors")
}

model Patient {
    id            String  @id @default(uuid())
    name          String
    email         String  @unique
    profilePhoto  String?
    contactNumber String?
    address       String?
    gender        Gender?
    isDeleted     Boolean @default(false)

    user      User     @relation(fields: [email], references: [email])
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    @@map("patients")
}
